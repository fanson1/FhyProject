{"version":3,"sources":["webpack:///src/views/products/Cart.vue","webpack:///./src/views/products/Cart.vue?df1f","webpack:///./src/views/products/Cart.vue"],"names":["Cart","name","components","Flyball","data","cartList","selectedList","isSelectAll","giftInfo","giftList","recommendCommodityList","computed","countPrice","this","forEach","element","num","unitPrice","countGiftPrice","watch","handler","value","oldValue","filter","commodityStock","commodityStatus","checked","filterList","every","deep","_this","length","params","commodityCodeList","siteNo","axios","post","api","getActivityResult","then","res","status","code","result","freePrice","commodityInfoList","e","created","getCartList","getRecommendCommodityList","methods","_this2","get","getProductDetail","item","$router","push","commodityCode","_this3","Math","floor","addCart","event","_this4","param","secKill","save","$refs","flyball","drop","setTimeout","$store","dispatch","$message","message","remark","type","selectAll","setProductNum","_this5","parseInt","replace","setNotify","id","update","notice","_this6","add","_this7","reduce","_this8","remove","_this9","$confirm","confirmButtonText","cancelButtonText","ids","index","indexOf","splice","removeSelected","_this10","removeUndercarriage","_this11","undercarriageList","toPay","sessionStorage","setItem","stringify_default","products_Cart","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","label","on","change","model","callback","$$v","expression","_l","key","disabled","$set","src","commodityPicture","imageSmallWidth","click","$event","_e","_s","commodityName","toFixed","directives","rawName","modifiers","trim","lazy","domProps","target","blur","$forceUpdate","staticStyle","display","width","text-decoration","font-size","fulCutFee","position","imageUrl","commoditySalesPrice","stopPropagation","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iIA8JAA,GACAC,KAAA,OACAC,YACAC,kBAAA,GAEAC,KALA,WAMA,OACAC,YACAC,gBACAC,aAAA,EACAC,SAAA,KACAC,YACAC,4BAGAC,UAEAC,WAFA,WAGA,IAAAA,EAAA,EAIA,OAHAC,KAAAP,aAAAQ,QAAA,SAAAC,GACAH,GAAAG,EAAAC,IAAAD,EAAAE,YAEAL,GAGAM,eAVA,WAWA,IAAAA,EAAA,EAIA,OAHAL,KAAAJ,SAAAK,QAAA,SAAAC,GACAG,GAAAH,EAAAC,IAAAD,EAAAE,YAEAC,IAGAC,OACAd,UACAe,QAAA,SAAAC,EAAAC,GAEAT,KAAAP,aAAAO,KAAAR,SAAAkB,OAAA,SAAAR,GACA,GAAAA,EAAAS,eAAA,OAAAT,EAAAU,gBACA,OAAAV,EAAAW,UAIA,IAAAC,EAAAd,KAAAR,SAAAkB,OAAA,SAAAR,GAAA,OAAAA,EAAAS,eAAA,OAAAT,EAAAU,sBACAZ,KAAAN,YAAAoB,EAAAC,MAAA,SAAAb,GAAA,OAAAA,EAAAW,WAEAG,MAAA,GAEAvB,aAfA,WAeA,IAAAwB,EAAAjB,KAEA,OAAAA,KAAAP,aAAAyB,OAGA,OAFAlB,KAAAL,SAAA,UACAK,KAAAJ,aAGA,IAAAuB,GACAC,kBAAApB,KAAAP,aACA4B,OAAA,MAEArB,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAAC,kBAAAN,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,OAEAF,EAAApC,KAAAuC,OAAAC,UAAA,EACAJ,EAAApC,KAAAuC,OAAAE,mBACAL,EAAApC,KAAAuC,OAAAE,kBAAA/B,QAAA,SAAAgC,GACAN,EAAApC,KAAAuC,OAAAC,WAAAE,EAAA7B,UAAA6B,EAAA9B,MAGAc,EAAAtB,SAAAgC,EAAApC,KAAAuC,OACAb,EAAArB,SAAA+B,EAAApC,KAAAuC,OAAAE,2BAKAE,QA1EA,WA2EAlC,KAAAmC,cACAnC,KAAAoC,6BAEAC,SAEAD,0BAFA,WAEA,IAAAE,EAAAtC,KACAA,KAAAsB,MAAAiB,IAAAvC,KAAAwB,IAAAY,2BAAAV,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,OACAS,EAAAzC,uBAAA8B,EAAApC,KAAAuC,WAgBAU,iBArBA,SAqBAC,GACAzC,KAAA0C,QAAAC,MAAAvD,KAAA,SAAA+B,QAAAyB,cAAAH,EAAAG,kBAGAT,YAzBA,WAyBA,IAAAU,EAAA7C,KACAA,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAAW,gBAAAT,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,OACAF,EAAApC,KAAAuC,OAAA7B,QAAA,SAAAC,GACAA,EAAAW,SAAA,EACAX,EAAAS,eAAAmC,KAAAC,MAAA7C,EAAAS,kBAEAkC,EAAArD,SAAAmC,EAAApC,KAAAuC,WAKAkB,QArCA,SAqCAC,EAAAR,GAAA,IAAAS,EAAAlD,KAEAmD,GACAP,cAAAH,EAAAG,cACAzC,IAAA,EACAiD,SAAA,GAEApD,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAA6B,KAAAF,GAAAzB,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,MAEAqB,EAAAI,MAAAC,QAAAC,KAAAP,GACAQ,WAAA,WACAP,EAAAQ,OAAAC,SAAA,eACA,KACAT,EAAAf,eAEAe,EAAAU,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,eAMAC,UA7DA,SA6DAxD,GACAR,KAAAR,SAAAS,QAAA,SAAAC,GACA,OAAAA,EAAAU,iBAAAV,EAAAS,eAAA,EACA,OAAAT,EAAAW,QAAAL,KAKAyD,cArEA,SAqEAxB,GAAA,IAAAyB,EAAAlE,KAEAG,EAAAsC,EAAAtC,IAAAgE,SAAA1B,EAAAtC,IAAAiE,QADA,MACA,QACApE,KAAAqE,UAAA5B,EAAAtC,IAAAsC,GACAtC,EAAA,KAAAsC,EAAA9B,eAAA,IACA8B,EAAAtC,IAAA,IACAA,EAAA,KAAAsC,EAAA9B,gBAAA,IACA8B,EAAAtC,IAAAsC,EAAA9B,gBAAA,EACAR,EAAAsC,EAAA9B,iBACA8B,EAAAtC,IAAAsC,EAAA9B,gBAAA,GAEA,IAAAQ,GACAmD,GAAA7B,EAAA6B,GACAnE,IAAAsC,EAAAtC,KAEAH,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAA+C,OAAApD,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,KACAqC,EAAAR,OAAAC,SAAA,cAEAO,EAAAN,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,eAMAM,UAhGA,SAgGAlE,EAAAsC,GACA,OAAAtC,GAAAsC,EAAA9B,gBAAA8B,EAAA9B,gBAAA,IACAX,KAAA4D,UACAC,QAAA,WAAApB,EAAA9B,eAAA,IACAoD,KAAA,YAGA5D,EAAA,IACAH,KAAA4D,UACAC,QAAA,cACAE,KAAA,iBAHA,GAQAS,OA/GA,SA+GA/B,GAAA,IAAAgC,EAAAzE,KAEA,GAAAyC,EAAA9B,eAAA8B,EAAAtC,IAAA,CACA,IAAAgB,GACAmD,GAAA7B,EAAA6B,GACAnE,IAAAsC,EAAA9B,gBAEAX,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAA+C,OAAApD,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,MACAY,EAAAtC,IAAAsC,EAAA9B,eACA8D,EAAAf,OAAAC,SAAA,eAEAc,EAAAb,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,cAKAtB,EAAA9B,gBAAA,IACAX,KAAA4D,UACAC,QAAA,WAAApB,EAAA9B,eAAA,IACAoD,KAAA,YAGA/D,KAAA4D,UACAC,QAAA,cACAE,KAAA,aAKAW,IA/IA,SA+IAjC,GAAA,IAAAkC,EAAA3E,KACAA,KAAAqE,UAAA5B,EAAAtC,IAAA,EAAAsC,GACA,IAAAtB,GACAmD,GAAA7B,EAAA6B,GACAnE,IAAAsC,EAAAtC,IAAA,GAEAH,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAA+C,OAAApD,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,MACAY,EAAAtC,MACAwE,EAAAjB,OAAAC,SAAA,eAEAgB,EAAAf,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,eAMAa,OAlKA,SAkKAnC,GAAA,IAAAoC,EAAA7E,KACAmB,GACAmD,GAAA7B,EAAA6B,GACAnE,IAAAsC,EAAAtC,IAAA,GAEAH,KAAAsB,MAAAC,KAAAvB,KAAAwB,IAAA+C,OAAApD,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAA,MAAAD,EAAApC,KAAAsC,MACAY,EAAAtC,MACA0E,EAAAnB,OAAAC,SAAA,eAEAkB,EAAAjB,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,eAMAe,OApLA,SAoLArC,GAAA,IAAAsC,EAAA/E,KACAA,KAAAgF,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACAnB,KAAA,YACArC,KAAA,WACA,IAAAP,GACAgE,KAAA1C,EAAA6B,KAEAS,EAAAzD,MAAAC,KAAAwD,EAAAvD,IAAAsD,OAAA3D,GAAAO,KAAA,SAAAC,GACA,SAAAA,EAAAC,QAAAD,EAAApC,KAAAsC,KAAA,KACA,IAAAuD,EAAAL,EAAAvF,SAAA6F,QAAA5C,GACAsC,EAAAvF,SAAA8F,OAAAF,EAAA,GACAL,EAAArB,OAAAC,SAAA,mBAEAoB,EAAAnB,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,iBAOAwB,eA5MA,WA4MA,IAAAC,EAAAxF,KACA,IAAAA,KAAAP,aAAAyB,OACAlB,KAAA4D,UACAC,QAAA,YACAE,KAAA,YAGA/D,KAAAgF,SAAA,kBACAC,kBAAA,KACAC,iBAAA,KACAnB,KAAA,YACArC,KAAA,WACA,IAAAyD,KACAK,EAAA/F,aAAAQ,QAAA,SAAAC,GACAiF,EAAAxC,KAAAzC,EAAAoE,MAEA,IAAAnD,GACAgE,OAEAK,EAAAlE,MAAAC,KAAAiE,EAAAhE,IAAAsD,OAAA3D,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAAD,EAAApC,KAAAsC,KAAA,IACA2D,EAAA/F,aAAAQ,QAAA,SAAAC,GACA,IAAAkF,EAAAI,EAAAhG,SAAA6F,QAAAnF,GACAsF,EAAAhG,SAAA8F,OAAAF,EAAA,GACAI,EAAA9B,OAAAC,SAAA,gBAGA6B,EAAA5B,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,iBAQA0B,oBAjPA,WAiPA,IAAAC,EAAA1F,KACA2F,EAAA3F,KAAAR,SAAAkB,OAAA,SAAAR,GAAA,WAAAA,EAAAU,kBACA,OAAA+E,EAAAzE,OACA,OAAAlB,KAAA4D,UACAC,QAAA,UACAE,KAAA,YAGA/D,KAAAgF,SAAA,mBACAC,kBAAA,KACAC,iBAAA,KACAnB,KAAA,YACArC,KAAA,WACA,IAAAP,GACAgE,QAEAQ,EAAA1F,QAAA,SAAAC,GAAA,OAAAiB,EAAAgE,IAAAxC,KAAAzC,EAAAoE,MACAoB,EAAApE,MAAAC,KAAAmE,EAAAlE,IAAAsD,OAAA3D,GAAAO,KAAA,SAAAC,GACA,MAAAA,EAAAC,QAAAD,EAAApC,KAAAsC,KAAA,IACA8D,EAAA1F,QAAA,SAAAC,GACA,IAAAkF,EAAAM,EAAAlG,SAAA6F,QAAAnF,GACAwF,EAAAlG,SAAA8F,OAAAF,EAAA,GACAM,EAAAhC,OAAAC,SAAA,gBAGA+B,EAAA9B,UACAC,QAAAlC,EAAApC,KAAAuE,OACAC,KAAA,iBAOA6B,MAnRA,WAoRA,IAAA5F,KAAAP,aAAAyB,OACAlB,KAAA4D,UACAC,QAAA,QACAE,KAAA,aAGA8B,eAAAC,QAAA,qBAAAC,IAAA/F,KAAAP,eACAO,KAAA0C,QAAAC,MAAAvD,KAAA,eCpgBA4G,GADiBC,OAFjB,WAA0B,IAAAC,EAAAlG,KAAamG,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOjC,GAAA,UAAa+B,EAAA,MAAAH,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAN,EAAA1G,SAAA0B,OAAA,EAAAmF,EAAA,MAA0EI,YAAA,cAAwBJ,EAAA,MAAWI,YAAA,oBAA8BJ,EAAA,QAAaI,YAAA,WAAqBJ,EAAA,eAAoBE,OAAOG,MAAAR,EAAA1G,UAAqBmH,IAAKC,OAAAV,EAAAlC,WAAuB6C,OAAQrG,MAAA0F,EAAA,YAAAY,SAAA,SAAAC,GAAiDb,EAAAxG,YAAAqH,GAAoBC,WAAA,iBAA2Bd,EAAAM,GAAA,OAAAN,EAAAM,GAAA,oBAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAkEI,YAAA,oBAA8BP,EAAAM,GAAA,KAAAH,EAAA,QAAyBI,YAAA,mBAA6BP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,QAA0CI,YAAA,oBAA8BP,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAwCI,YAAA,kBAA4BP,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAwCI,YAAA,gBAA0BP,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAwCI,YAAA,cAAwBP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAN,EAAAe,GAAAf,EAAA,kBAAAzD,EAAA2C,GAA0E,OAAAiB,EAAA,MAAgBa,IAAA9B,EAAAqB,YAAA,sBAA0CJ,EAAA,QAAaI,YAAA,WAAqBJ,EAAA,eAAoBE,OAAOG,MAAAjE,EAAA0E,WAAA,IAAA1E,EAAA7B,iBAAA6B,EAAA9B,eAAA,IAA+FkG,OAAQrG,MAAAiC,EAAA,QAAAqE,SAAA,SAAAC,GAA8Cb,EAAAkB,KAAA3E,EAAA,UAAAsE,IAA+BC,WAAA,kBAA4Bd,EAAAM,GAAA,iCAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAgEE,OAAOc,IAAA5E,EAAA6E,iBAAApB,EAAAqB,iBAAkDZ,IAAKa,MAAA,SAAAC,GAAyBvB,EAAAxD,QAAAC,MAAkBvD,KAAA,SAAA+B,QAA0ByB,cAAAH,EAAAG,qBAAwCsD,EAAAM,GAAA,KAAAH,EAAA,QAAyBI,YAAA,iBAAAE,IAAiCa,MAAA,SAAAC,GAAyBvB,EAAAxD,QAAAC,MAAkBvD,KAAA,SAAA+B,QAA0ByB,cAAAH,EAAAG,qBAAwCH,EAAA,QAAA4D,EAAA,QAAAH,EAAAM,GAAA,UAAAN,EAAAwB,KAAAxB,EAAAM,GAAA,aAAAN,EAAAyB,GAAAlF,EAAAmF,eAAA,cAAA1B,EAAAM,GAAA,KAAAH,EAAA,QAA0II,YAAA,oBAA8BP,EAAAM,GAAA,KAAAN,EAAAyB,GAAAlF,EAAArC,UAAAyH,QAAA,OAAA3B,EAAAM,GAAA,SAAA/D,EAAA7B,iBAAA6B,EAAA9B,eAAA,EAAA0F,EAAA,QAAkII,YAAA,kBAA4BJ,EAAA,QAAaI,YAAA,UAAoBP,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAA/D,EAAAtC,IAAA,GAAAsC,EAAAtC,KAAAsC,EAAA9B,eAAA0F,EAAA,UAA6FI,YAAA,gBAAAE,IAAgCa,MAAA,SAAAC,GAAyBvB,EAAAtB,OAAAnC,OAAmByD,EAAAM,GAAA,WAAA/D,EAAAtC,IAAAkG,EAAA,UAA8CI,YAAA,2BAAqCP,EAAAM,GAAA,OAAAH,EAAA,UAA6BI,YAAA,gBAAAE,IAAgCa,MAAA,SAAAC,GAAyBvB,EAAA1B,OAAA/B,OAAmByD,EAAAM,GAAA,OAAAN,EAAAM,GAAA,KAAAH,EAAA,SAAwCyB,aAAa1I,KAAA,QAAA2I,QAAA,oBAAAvH,MAAAiC,EAAA,IAAAuE,WAAA,WAAAgB,WAA2FC,MAAA,EAAAC,MAAA,KAAyBzB,YAAA,SAAAF,OAA8BxC,KAAA,QAAcoE,UAAW3H,MAAAiC,EAAA,KAAmBkE,IAAKC,QAAA,SAAAa,GAA2BvB,EAAAkB,KAAA3E,EAAA,MAAAgF,EAAAW,OAAA5H,MAAAyH,SAAkD,SAAAR,GAAkBvB,EAAAjC,cAAAxB,KAAwB4F,KAAA,SAAAZ,GAA0BvB,EAAAoC,mBAAqBpC,EAAAM,GAAA,KAAA/D,EAAAtC,IAAA,KAAAsC,EAAAtC,IAAAsC,EAAA9B,eAAA0F,EAAA,UAA8EI,YAAA,aAAAE,IAA6Ba,MAAA,SAAAC,GAAyBvB,EAAAxB,IAAAjC,OAAgByD,EAAAM,GAAA,OAAAH,EAAA,UAA6BI,YAAA,aAAAE,IAA6Ba,MAAA,SAAAC,GAAyBvB,EAAA1B,OAAA/B,OAAmByD,EAAAM,GAAA,SAAAH,EAAA,QAA6BkC,aAAaC,QAAA,eAAAC,MAAA,WAA0C,IAAAhG,EAAA7B,gBAAAyF,EAAA,QAAAH,EAAAM,GAAA,+BAAAH,EAAA,QAA2FkC,aAAaG,kBAAA,kBAAkCxC,EAAAM,GAAA,QAAAN,EAAAyB,GAAAlF,EAAAtC,KAAA,aAAAsC,EAAA9B,eAAA0F,EAAA,QAAAH,EAAAM,GAAA,+BAAAH,EAAA,QAAmIkC,aAAaG,kBAAA,kBAAkCxC,EAAAM,GAAA,QAAAN,EAAAyB,GAAAlF,EAAAtC,KAAA,SAAA+F,EAAAwB,OAAAxB,EAAAM,GAAA,KAAAH,EAAA,QAA6EI,YAAA,gBAA0BP,EAAAM,GAAA,KAAAN,EAAAyB,IAAAlF,EAAArC,UAAAqC,EAAAtC,KAAA0H,QAAA,OAAA3B,EAAAM,GAAA,KAAAH,EAAA,QAAuFI,YAAA,YAAAE,IAA4Ba,MAAA,SAAAC,GAAyBvB,EAAApB,OAAArC,OAAmByD,EAAAM,GAAA,YAAmBN,EAAAM,GAAA,KAAAN,EAAA,SAAAA,EAAAe,GAAAf,EAAA,kBAAAzD,EAAA2C,GAAwE,OAAAiB,EAAA,MAAgBa,IAAAzE,EAAAG,cAAA6D,YAAA,sBAAuDJ,EAAA,QAAaI,YAAA,WAAqBJ,EAAA,eAAoBE,OAAO1F,SAAA,EAAA6F,MAAAjE,EAAA0E,SAAA,MAA2CjB,EAAAM,GAAA,qCAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAoEE,OAAOc,IAAA5E,EAAA6E,kBAA4BX,IAAKa,MAAA,SAAAC,GAAyBvB,EAAAxD,QAAAC,MAAkBvD,KAAA,SAAA+B,QAA0ByB,cAAAH,EAAAG,qBAAwCsD,EAAAM,GAAA,KAAAH,EAAA,QAAyBI,YAAA,iBAAAE,IAAiCa,MAAA,SAAAC,GAAyBvB,EAAAxD,QAAAC,MAAkBvD,KAAA,SAAA+B,QAA0ByB,cAAAH,EAAAG,qBAAyCyD,EAAA,QAAAH,EAAAM,GAAA,UAAAN,EAAAM,GAAA,eAAAN,EAAAyB,GAAAlF,EAAAmF,eAAA,gBAAA1B,EAAAM,GAAA,KAAAH,EAAA,QAAsHI,YAAA,oBAA8BP,EAAAM,GAAA,KAAAN,EAAAyB,GAAAlF,EAAArC,UAAAyH,QAAA,OAAA3B,EAAAM,GAAA,KAAAH,EAAA,QAA0EI,YAAA,gBAAA8B,aAAyCC,QAAA,eAAAC,MAAA,QAAAE,YAAA,UAA6DzC,EAAAM,GAAA,iBAAAN,EAAAyB,GAAAlF,EAAAtC,KAAA,kBAAA+F,EAAAM,GAAA,KAAAH,EAAA,QAAoFI,YAAA,gBAA0BP,EAAAM,GAAA,KAAAN,EAAAyB,IAAAlF,EAAArC,UAAAqC,EAAAtC,KAAA0H,QAAA,WAAkE3B,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAH,EAAA,MAAgCI,YAAA,qBAA+BJ,EAAA,OAAYI,YAAA,mBAA6BJ,EAAA,QAAaI,YAAA,WAAqBJ,EAAA,eAAoBE,OAAOG,MAAAR,EAAA1G,UAAqBmH,IAAKC,OAAAV,EAAAlC,WAAuB6C,OAAQrG,MAAA0F,EAAA,YAAAY,SAAA,SAAAC,GAAiDb,EAAAxG,YAAAqH,GAAoBC,WAAA,iBAA2Bd,EAAAM,GAAA,OAAAN,EAAAM,GAAA,sBAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAoEI,YAAA,kBAAAE,IAAkCa,MAAAtB,EAAAX,kBAA4BW,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,QAA4CI,YAAA,yBAAmCJ,EAAA,QAAaM,IAAIa,MAAAtB,EAAAT,uBAAiCS,EAAAM,GAAA,gBAAAN,EAAAM,GAAA,KAAAH,EAAA,QAAgDI,YAAA,gBAA0BJ,EAAA,QAAAH,EAAAM,GAAA,8BAAAH,EAAA,QAA6DI,YAAA,iBAA2BP,EAAAM,GAAAN,EAAAyB,GAAAzB,EAAAzG,aAAAyB,WAAAgF,EAAAM,GAAA,+BAAAN,EAAAM,GAAA,KAAAN,EAAA,SAAAG,EAAA,QAAAH,EAAAM,GAAA,+BAAAH,EAAA,QAAAH,EAAAM,GAAA,KAAAN,EAAAyB,IAAAzB,EAAAvG,SAAAuG,EAAAvG,SAAAiJ,UAAA,GAAAf,QAAA,SAAA3B,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAN,EAAA,SAAAG,EAAA,QAAAH,EAAAM,GAAA,iCAAAH,EAAA,QAAAH,EAAAM,GAAA,KAAAN,EAAAyB,GAAAzB,EAAA7F,eAAAwH,QAAA,SAAA3B,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAH,EAAA,QAAAH,EAAAM,GAAA,kCAAAH,EAAA,QAAseI,YAAA,gBAA0BP,EAAAM,GAAA,KAAAN,EAAAyB,GAAAzB,EAAAnG,WAAA8H,QAAA,SAAA3B,EAAAM,GAAA,KAAAN,EAAA,SAAAG,EAAA,QAAAH,EAAAM,GAAA,iCAAAH,EAAA,QAA8II,YAAA,iBAA2BP,EAAAM,GAAA,KAAAN,EAAAyB,IAAAzB,EAAAnG,YAAAmG,EAAAvG,SAAAuG,EAAAvG,SAAAiJ,UAAA,IAAAf,QAAA,SAAA3B,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAH,EAAA,QAAAA,EAAA,UAAkJI,YAAA,gBAAAE,IAAgCa,MAAAtB,EAAAN,SAAmBM,EAAAM,GAAA,mBAAAH,EAAA,OAAsCI,YAAA,aAAAE,IAA6Ba,MAAA,SAAAC,GAAyBvB,EAAAxD,QAAAC,MAAkBvD,KAAA,cAAoBiH,EAAA,KAAUI,YAAA,2BAAqCP,EAAAM,GAAA,KAAAH,EAAA,QAAAH,EAAAM,GAAA,wBAAAN,EAAAM,GAAA,KAAAH,EAAA,MAA6EI,YAAA,qBAA+BP,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAN,EAAArG,uBAAAqB,OAAA,EAAAmF,EAAA,OAAiFI,YAAA,qBAAgCP,EAAAe,GAAAf,EAAA,gCAAAzD,EAAA2C,GAA0D,OAAAA,EAAA,EAAAiB,EAAA,OAA6Ba,IAAA9B,EAAAqB,YAAA,sBAAA8B,aAAyDM,SAAA,YAAsBlC,IAAKa,MAAA,SAAAC,GAAyBvB,EAAA1D,iBAAAC,OAA6BA,EAAA,SAAA4D,EAAA,KAA0BI,YAAA,yBAAmCP,EAAAM,GAAA,KAAAH,EAAA,OAAwBI,YAAA,aAAsBP,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAH,EAAA,OAAkCE,OAAOc,IAAA5E,EAAAqG,YAAqB5C,EAAAM,GAAA,KAAAH,EAAA,OAAwBI,YAAA,mBAA6BP,EAAAM,GAAAN,EAAAyB,GAAAlF,EAAAmF,kBAAA1B,EAAAM,GAAA,KAAAH,EAAA,OAA6DI,YAAA,oBAA8BP,EAAAM,GAAA,KAAAN,EAAAyB,GAAAlF,EAAAsG,oBAAAlB,QAAA,OAAA3B,EAAAM,GAAA,KAAAH,EAAA,OAAmFI,YAAA,WAAAE,IAA2Ba,MAAA,SAAAC,GAAyBA,EAAAuB,kBAAyB9C,EAAAlD,QAAAyE,EAAAhF,OAA4ByD,EAAAM,GAAA,eAAAN,EAAAwB,QAAiCxB,EAAAwB,KAAAxB,EAAAM,GAAA,KAAAH,EAAA,WAAsC4C,IAAA,aAAc,IAExhPC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAlK,EACA6G,GATA,EAVA,SAAAsD,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/10.9f48d60a6cae6781e67c.js","sourcesContent":["<!--购物车-->\r\n<template>\r\n  <div id=\"cart\">\r\n    <h1>购物车</h1>\r\n    <ul v-if=\"cartList.length > 0\" class=\"cart-list\">\r\n      <li class=\"commodity-title\">\r\n        <span class=\"select\">\r\n          <el-checkbox v-model=\"isSelectAll\" :label=\"cartList\" @change=\"selectAll\">&nbsp;</el-checkbox>&nbsp;&nbsp;全选\r\n        </span>\r\n        <span class=\"commodity-image\"></span>\r\n        <span class=\"commodity-name\">商品信息</span>\r\n        <span class=\"commodity-price\">单价</span>\r\n        <span class=\"commodity-num\">数量</span>\r\n        <span class=\"total-price\">金额</span>\r\n        <span class=\"operation\">操作</span>\r\n      </li>\r\n      <!-- 正常商品列表 -->\r\n      <li v-for=\"(item, index) in cartList\" :key=\"index\" class=\"commodity-wrapper\">\r\n        <span class=\"select\">\r\n          <el-checkbox\r\n            v-model=\"item.checked\"\r\n            :label=\"item\"\r\n            :disabled=\"(item.commodityStatus === 3 && item.commodityStock > 0) ? false : true\"\r\n          >\r\n            &nbsp;\r\n          </el-checkbox>\r\n        </span>\r\n        <img :src=\"item.commodityPicture + imageSmallWidth\" @click=\"$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })\">\r\n        <span\r\n          class=\"commodity-name\"\r\n          @click=\"$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })\"\r\n        >\r\n          <span v-if=\"item.presell\">【预售】</span>\r\n          {{ item.commodityName }}\r\n        </span>\r\n        <span class=\"commodity-price\">&yen; {{ item.unitPrice.toFixed(2) }}</span>\r\n        <span class=\"commodity-num\" v-if=\"item.commodityStatus === 3 && item.commodityStock > 0\">\r\n          <span class=\"label\">数量：</span>\r\n          <button class=\"reduce-button\" @click=\"reduce(item)\" v-if=\"item.num > 1 && item.num <= item.commodityStock\">-</button>\r\n          <button class=\"reduce-button disabled\" v-else-if=\"item.num === 1\">-</button>\r\n          <button class=\"reduce-button\" @click=\"notice(item)\" v-else>-</button>\r\n          <input type=\"text\" v-model.trim.lazy=\"item.num\" class=\"number\" @change=\"setProductNum(item)\">\r\n          <button class=\"add-button\" @click=\"add(item)\" v-if=\"item.num < 200 && item.num < item.commodityStock\">+</button>\r\n          <button class=\"add-button\" @click=\"notice(item)\" v-else>+</button>\r\n          <!-- <br>\r\n          <span class=\"commodity-stock\">库存{{ item.commodityStock }}件</span>\r\n          <br>\r\n          <span class=\"commodity-stock\" v-if=\"item.num === 200\">最多只能购买200件</span> -->\r\n        </span>\r\n        <span v-else style=\"display: inline-block; width: 200px;\">\r\n          <span v-if=\"item.commodityStatus !== 3\">\r\n            已下架\r\n            <span style=\"text-decoration: line-through;\">加入购物车{{ item.num }}件</span>\r\n          </span>\r\n          <span v-else-if=\"item.commodityStock === 0\">\r\n            已售罄\r\n            <span style=\"text-decoration: line-through;\">加入购物车{{ item.num }}件</span>\r\n          </span>\r\n        </span>\r\n        <span class=\"total-price\">&yen; {{ (item.unitPrice * item.num).toFixed(2) }}</span>\r\n        <span class=\"operation\" @click=\"remove(item)\">删除</span>\r\n      </li>\r\n      <!-- 赠品 -->\r\n      <template v-if=\"giftInfo\">\r\n        <li v-for=\"(item, index) in giftList\" :key=\"item.commodityCode\" class=\"commodity-wrapper\">\r\n          <span class=\"select\">\r\n            <el-checkbox\r\n              :checked=\"true\"\r\n              :label=\"item\"\r\n              disabled\r\n            >\r\n              &nbsp;\r\n            </el-checkbox>\r\n          </span>\r\n          <img :src=\"item.commodityPicture\" @click=\"$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })\">\r\n          <span\r\n            class=\"commodity-name\"\r\n            @click=\"$router.push({ name: 'Detail', params: { commodityCode: item.commodityCode }})\"\r\n          >\r\n            <span>【赠品】</span>\r\n            {{ item.commodityName }}\r\n          </span>\r\n          <span class=\"commodity-price\">&yen; {{ item.unitPrice.toFixed(2) }}</span>\r\n          <span class=\"commodity-num\" style=\"display: inline-block; width: 200px; font-size: 14px;\">\r\n            共 {{ item.num }} 件\r\n          </span>\r\n          <span class=\"total-price\">&yen; {{ (item.unitPrice * item.num).toFixed(2) }}</span>\r\n        </li>\r\n      </template>\r\n      <li class=\"commodity-footer\">\r\n        <div class=\"cart-opetation\">\r\n          <span class=\"select\">\r\n            <el-checkbox v-model=\"isSelectAll\" :label=\"cartList\" @change=\"selectAll\">&nbsp;</el-checkbox>&nbsp;&nbsp;全选\r\n          </span>\r\n          <span class=\"remove-selected\" @click=\"removeSelected\">删除选择商品</span>\r\n          <span class=\"remove-undercarriage\">\r\n            <span @click=\"removeUndercarriage\">清除下架商品</span>\r\n          </span>\r\n        </div>\r\n        <span class=\"total-price\">\r\n          <span>\r\n            已选\r\n            <span class=\"count-number\">{{ selectedList.length }}</span>\r\n            种商品\r\n          </span>\r\n          <span v-if=\"giftInfo\">\r\n            满减：\r\n            <span>&yen; {{ (giftInfo ? giftInfo.fulCutFee : 0).toFixed(2) }}</span>\r\n          </span>\r\n          <span v-if=\"giftInfo\">\r\n            买赠优惠：\r\n            <span>&yen; {{ countGiftPrice.toFixed(2) }}</span>\r\n          </span>\r\n          <span>\r\n            订单总金额：\r\n            <span class=\"count-price\">&yen; {{ countPrice.toFixed(2) }}</span>\r\n          </span>\r\n          <span v-if=\"giftInfo\">\r\n            实付金额：\r\n            <span class=\"actual-price\">&yen; {{ (countPrice - (giftInfo ? giftInfo.fulCutFee : 0)).toFixed(2) }}</span>\r\n          </span>\r\n          <span>\r\n            <button class=\"submit-button\" @click=\"toPay\">去结算</button>\r\n          </span>\r\n        </span>\r\n      </li>\r\n    </ul>\r\n    <div class=\"empty-cart\" @click=\"$router.push({ name: 'Index' })\" v-else>\r\n      <i class=\"iconfont icon-gouwuche\"></i>\r\n      <span>购物车空空的，去首页逛逛吧 >></span>\r\n    </div>\r\n    <!-- 推荐商品 -->\r\n    <h1 class=\"recommend-header\">推荐商品</h1>\r\n    <div class=\"recommend-wrapper\" v-if=\"recommendCommodityList.length > 0\">\r\n      <div\r\n        v-for=\"(item, index) in recommendCommodityList\"\r\n        v-if=\"index < 5\"\r\n        :key=\"index\"\r\n        class=\"recommend-commodity\"\r\n        @click=\"getProductDetail(item)\"\r\n        style=\"position: relative;\"\r\n      >\r\n        <template v-if=\"item.presell\">\r\n          <i class=\"iconfont icon-yushou\"></i>\r\n          <div class=\"trangle\"></div>\r\n        </template>\r\n        <img :src=\"item.imageUrl\">\r\n        <div class=\"commodity-name\">{{ item.commodityName }}</div>\r\n        <div class=\"commodity-price\">&yen; {{ item.commoditySalesPrice.toFixed(2) }}</div>\r\n        <div class=\"add-cart\" @click.stop=\"addCart($event, item)\">加入购物车</div>\r\n      </div>\r\n    </div>\r\n    <Flyball ref=\"flyball\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport Flyball from '@/components/Flyball.vue'\r\n\r\nexport default {\r\n  name: 'Cart',\r\n  components: {\r\n    Flyball\r\n  },\r\n  data () {\r\n    return {\r\n      cartList: [], // 购物车商品列表\r\n      selectedList: [], // 购物车商品选择列表\r\n      isSelectAll: false, // 是否全选\r\n      giftInfo: null, // 赠品信息\r\n      giftList: [], // 赠品列表\r\n      recommendCommodityList: [] // 猜你喜欢列表\r\n    }\r\n  },\r\n  computed: {\r\n    // 计算总价\r\n    countPrice () {\r\n      let countPrice = 0\r\n      this.selectedList.forEach(element => {\r\n        countPrice = countPrice + element.num * element.unitPrice\r\n      })\r\n      return countPrice\r\n    },\r\n    // 计算买赠优惠\r\n    countGiftPrice () {\r\n      let countGiftPrice = 0\r\n      this.giftList.forEach(element => {\r\n        countGiftPrice = countGiftPrice + element.num * element.unitPrice\r\n      })\r\n      return countGiftPrice\r\n    }\r\n  },\r\n  watch: {\r\n    cartList: {\r\n      handler: function (value, oldValue) {\r\n        // 计算选中数组\r\n        this.selectedList = this.cartList.filter(element => {\r\n          if (element.commodityStock > 0 && element.commodityStatus === 3) {\r\n            return element.checked\r\n          }\r\n        })\r\n        // 计算是否全选\r\n        let filterList = this.cartList.filter(element => element.commodityStock > 0 && element.commodityStatus === 3) || []\r\n        this.isSelectAll = filterList.every(element => element.checked)\r\n      },\r\n      deep: true\r\n    },\r\n    selectedList () {\r\n      // 未选择商品时，重置满减满赠信息\r\n      if (this.selectedList.length === 0) {\r\n        this.giftInfo = null\r\n        this.giftList = []\r\n        return\r\n      }\r\n      let params = {\r\n        commodityCodeList: this.selectedList,\r\n        siteNo: null\r\n      }\r\n      this.axios.post(this.api.getActivityResult, params).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          // 计算赠品总价\r\n          res.data.result.freePrice = 0\r\n          if (res.data.result.commodityInfoList) {\r\n            res.data.result.commodityInfoList.forEach(e => {\r\n              res.data.result.freePrice += e.unitPrice * e.num;\r\n            })\r\n          }\r\n          this.giftInfo = res.data.result\r\n          this.giftList = res.data.result.commodityInfoList || []\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCartList()\r\n    this.getRecommendCommodityList()\r\n  },\r\n  methods: {\r\n    // 推荐商品\r\n    getRecommendCommodityList () {\r\n      this.axios.get(this.api.getRecommendCommodityList).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          this.recommendCommodityList = res.data.result\r\n        }\r\n      })\r\n      // let recommendCommodityList = localStorage.getItem('recommendCommodityList')\r\n      // if (recommendCommodityList) {\r\n      //   this.recommendCommodityList = JSON.parse(recommendCommodityList)\r\n      // } else {\r\n      //   this.axios.get(this.api.getRecommendCommodityList).then(res => {\r\n      //     if (res.status === 200 && res.data.code === 200) {\r\n      //       this.recommendCommodityList = res.data.result\r\n      //       localStorage.setItem('recommendCommodityList', JSON.stringify(res.data.result))\r\n      //     }\r\n      //   })\r\n      // }\r\n    },\r\n    // 获取商品详情\r\n    getProductDetail (item) {\r\n      this.$router.push({ name: 'Detail', params: { commodityCode: item.commodityCode }})\r\n    },\r\n    // 获取购物车列表\r\n    getCartList () {\r\n      this.axios.post(this.api.getCartList, {}).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          res.data.result.forEach(element => {\r\n            element.checked = false\r\n            element.commodityStock = Math.floor(element.commodityStock)\r\n          })\r\n          this.cartList = res.data.result\r\n        }\r\n      })\r\n    },\r\n    // 加入购物车\r\n    addCart (event, item) {\r\n      // 如果已经登录，则保存到服务器\r\n      let param = {\r\n        commodityCode: item.commodityCode,\r\n        num: 1,\r\n        secKill: false\r\n      }\r\n      this.axios.post(this.api.save, param).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          // 加入购物车动画\r\n          this.$refs.flyball.drop(event)\r\n          setTimeout(() => {\r\n            this.$store.dispatch('getCartNum')\r\n          }, 600)\r\n          this.getCartList()\r\n        } else {\r\n          this.$message({\r\n            message: res.data.remark,\r\n            type: 'warning'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 全选\r\n    selectAll (value) {\r\n      this.cartList.forEach(element => {\r\n        if (element.commodityStatus === 3 && element.commodityStock > 0) {\r\n          return element.checked = value\r\n        }\r\n      })\r\n    },\r\n    // 设置手动输入商品数量\r\n    setProductNum (item) {\r\n      const regex = /\\D/g\r\n      let num = item.num = parseInt(item.num.replace(regex, '')) || 1\r\n      this.setNotify(item.num, item)\r\n      if (num > 200 && item.commodityStock > 200) {\r\n        item.num = 200\r\n      } else if (num > 200 && item.commodityStock <= 200) {\r\n        item.num = item.commodityStock || 1\r\n      } else if (num > item.commodityStock) {\r\n        item.num = item.commodityStock || 1\r\n      }\r\n      let params = {\r\n        id: item.id,\r\n        num: item.num\r\n      }\r\n      this.axios.post(this.api.update, params).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          this.$store.dispatch('getCartNum')\r\n        } else {\r\n          this.$message({\r\n            message: res.data.remark,\r\n            type: 'warning'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 设置提示\r\n    setNotify (num, item) {\r\n      if (num >= item.commodityStock && item.commodityStock <= 200) {\r\n        return this.$message({\r\n          message: '此商品最大库存为' + item.commodityStock + '件',\r\n          type: 'warning'\r\n        })\r\n      }\r\n      if (num > 200) {\r\n        return this.$message({\r\n          message: '最多加入购物车200件',\r\n          type: 'warning'\r\n        })\r\n      }\r\n    },\r\n    // 提示\r\n    notice (item) {\r\n      // 当库存更新后，当前库存小于购物车数量时，把购物车数量更新为当前库存\r\n      if (item.commodityStock < item.num) {\r\n        let params = {\r\n          id: item.id,\r\n          num: item.commodityStock\r\n        }\r\n        this.axios.post(this.api.update, params).then(res => {\r\n          if (res.status === 200 && res.data.code === 200) {\r\n            item.num = item.commodityStock\r\n            this.$store.dispatch('getCartNum')\r\n          } else {\r\n            this.$message({\r\n              message: res.data.remark,\r\n              type: 'warning'\r\n            })\r\n          }\r\n        })\r\n      }\r\n      if (item.commodityStock <= 200) {\r\n        this.$message({\r\n          message: '此商品最大库存为' + item.commodityStock + '件',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        this.$message({\r\n          message: '最多加入购物车200件',\r\n          type: 'warning'\r\n        })\r\n      }\r\n    },\r\n    // 增加商品数量\r\n    add (item) {\r\n      this.setNotify(item.num + 1, item)\r\n      let params = {\r\n        id: item.id,\r\n        num: item.num + 1\r\n      }\r\n      this.axios.post(this.api.update, params).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          item.num++\r\n          this.$store.dispatch('getCartNum')\r\n        } else {\r\n          this.$message({\r\n            message: res.data.remark,\r\n            type: 'warning'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 减少商品数量\r\n    reduce (item) {\r\n      let params = {\r\n        id: item.id,\r\n        num: item.num - 1\r\n      }\r\n      this.axios.post(this.api.update, params).then(res => {\r\n        if (res.status === 200 && res.data.code === 200) {\r\n          item.num--\r\n          this.$store.dispatch('getCartNum')\r\n        } else {\r\n          this.$message({\r\n            message: res.data.remark,\r\n            type: 'warning'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 删除商品\r\n    remove (item) {\r\n      this.$confirm('是否删除该商品？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let params = {\r\n          ids: [item.id]\r\n        }\r\n        this.axios.post(this.api.remove, params).then(res => {\r\n          if (res.status === 200 && res.data.code < 300) {\r\n            let index = this.cartList.indexOf(item)\r\n            this.cartList.splice(index, 1)\r\n            this.$store.dispatch('getCartNum')\r\n          } else {\r\n            this.$message({\r\n              message: res.data.remark,\r\n              type: 'warning'\r\n            })\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 删除已选择商品\r\n    removeSelected () {\r\n      if (this.selectedList.length === 0) {\r\n        this.$message({\r\n          message: '请选择要删除的商品',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        this.$confirm('是否删除选中商品？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let ids = []\r\n          this.selectedList.forEach(element => {\r\n            ids.push(element.id)\r\n          })\r\n          let params = {\r\n            ids: ids\r\n          }\r\n          this.axios.post(this.api.remove, params).then(res => {\r\n            if (res.status === 200 && res.data.code < 300) {\r\n              this.selectedList.forEach(element => {\r\n                let index = this.cartList.indexOf(element)\r\n                this.cartList.splice(index, 1)\r\n                this.$store.dispatch('getCartNum')\r\n              })\r\n            } else {\r\n              this.$message({\r\n                message: res.data.remark,\r\n                type: 'warning'\r\n              })\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    // 清除下架商品\r\n    removeUndercarriage () {\r\n      let undercarriageList = this.cartList.filter(element => element.commodityStatus === 4)\r\n      if (undercarriageList.length === 0) {\r\n        return this.$message({\r\n          message: '没有已下架商品',\r\n          type: 'warning'\r\n        })\r\n      }\r\n      this.$confirm('是否删除已下架商品？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        let params = {\r\n          ids: []\r\n        }\r\n        undercarriageList.forEach(element => params.ids.push(element.id))\r\n        this.axios.post(this.api.remove, params).then(res => {\r\n          if (res.status === 200 && res.data.code < 300) {\r\n            undercarriageList.forEach(element => {\r\n              let index = this.cartList.indexOf(element)\r\n              this.cartList.splice(index, 1)\r\n              this.$store.dispatch('getCartNum')\r\n            })\r\n          } else {\r\n            this.$message({\r\n              message: res.data.remark,\r\n              type: 'warning'\r\n            })\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 结算\r\n    toPay () {\r\n      if (this.selectedList.length === 0) {\r\n        this.$message({\r\n          message: '未选择商品',\r\n          type: 'warning'\r\n        })\r\n      } else {\r\n        sessionStorage.setItem('toPayCommodityList', JSON.stringify(this.selectedList))\r\n        this.$router.push({ name: 'prePay' })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\">\r\n$width = 1200px\r\n#cart\r\n  h1\r\n    margin: 10px auto\r\n    width: $width\r\n    color: #7BBE2B\r\n  .cart-list\r\n    margin: 0 auto\r\n    width: $width\r\n    .commodity-title\r\n      position: relative\r\n      height: 42px\r\n      line-height: 42px\r\n      font-weight: 700\r\n      border: 1px solid #DDD\r\n      border-bottom: none\r\n      & > span\r\n        display: inline-block\r\n      .select\r\n        width: 70px\r\n        padding-left: 23px\r\n        white-space: nowrap\r\n        .el-checkbox\r\n          position: static\r\n        .el-checkbox__label\r\n          position: absolute\r\n          top: 0\r\n          left: 0\r\n          display: block\r\n          width: 60px\r\n          height: 100%\r\n        .el-checkbox__inner\r\n          border-color: #999\r\n      .commodity-image\r\n        width: 80px\r\n      .commodity-name\r\n        width: 430px\r\n        text-indent: 1rem\r\n      .commodity-price\r\n        width: 120px\r\n      .commodity-num\r\n        width: 200px\r\n      .total-price\r\n        width: 120px\r\n    .commodity-wrapper\r\n      position: relative\r\n      padding: 1rem 0\r\n      border: 1px solid #DDD\r\n      border-bottom: none\r\n      > img\r\n        margin-left: 20px\r\n        width: 80px\r\n        height: 80px\r\n        vertical-align: middle\r\n        cursor: pointer\r\n      & > span\r\n        display: inline-block\r\n      .select\r\n        width: 70px\r\n        text-align: center\r\n        .el-checkbox\r\n          position: static\r\n        .el-checkbox__label\r\n          position: absolute\r\n          top: 0\r\n          left: 0\r\n          display: block\r\n          width: 60px\r\n          height: 100%\r\n        .el-checkbox__inner\r\n          border-color: #999\r\n      .commodity-image\r\n        width: 50px\r\n      .commodity-name\r\n        padding-left: 1rem\r\n        padding-right: 20px\r\n        width: 400px\r\n        cursor: pointer\r\n        overflow: hidden\r\n        text-overflow: ellipsis\r\n        white-space: nowrap\r\n        &:hover\r\n          color: #FF4E00\r\n      .commodity-price, .total-price\r\n        width: 120px\r\n        color: #FF4E00\r\n        font-weight: 700\r\n      .commodity-num\r\n        width: 200px\r\n        font-size: 0\r\n        .add-button\r\n          background: #666\r\n          border-top-right-radius: 4px\r\n          border-bottom-right-radius: 4px\r\n        .reduce-button\r\n          background: #666\r\n          border-top-left-radius: 4px\r\n          border-bottom-left-radius: 4px\r\n          &.disabled\r\n            background: #CCC\r\n        .reduce-button, .add-button\r\n          height: 26px\r\n          width: 30px\r\n          font-size: 18px\r\n          vertical-align: -1px\r\n          color: #fff\r\n          cursor: pointer\r\n          outline: none\r\n          border: none\r\n        .number\r\n          width: 50px\r\n          height: 24px\r\n          outline: none\r\n          border: 1px solid #CCC\r\n          text-align: center\r\n        .commodity-stock\r\n          margin-left: 20px\r\n          font-size: 12px\r\n          color: #666\r\n      .operation\r\n        cursor: pointer\r\n    .commodity-footer\r\n      display: flex\r\n      justify-content: space-between\r\n      padding-top: 20px\r\n      position: relative\r\n      line-height: 30px\r\n      border-top: 1px solid #DDD\r\n      white-space: nowrap\r\n      .cart-opetationr\r\n        & > span\r\n          display: inline-block\r\n      .select\r\n        width: 60px\r\n        padding-left: 23px\r\n        white-space: nowrap\r\n        .el-checkbox\r\n          position: static\r\n        .el-checkbox__label\r\n          position: absolute\r\n          top: 0\r\n          left: 0\r\n          display: block\r\n          width: 60px\r\n          height: 100%\r\n        .el-checkbox__inner\r\n          border-color: #999\r\n      .remove-selected\r\n        &:hover\r\n          color: #FF4E00\r\n          cursor: pointer\r\n      .remove-selected\r\n        width: 100px\r\n      .remove-undercarriage\r\n        width: 100px\r\n        > span\r\n          &:hover\r\n            color: #FF4E00\r\n            cursor: pointer\r\n      .total-price\r\n        display: flex\r\n        flex-direction: column\r\n        text-align: right\r\n        .count-number\r\n          font-size: 24px\r\n          font-weight: 700\r\n          color: #FFC000\r\n        .count-price\r\n          font-size: 24px\r\n          font-weight: 700\r\n          color: #FFC000\r\n        .actual-price\r\n          font-size: 24px\r\n          font-weight: 700\r\n          color: #FF4E00\r\n      .submit-button\r\n        background: #FFC000\r\n        border-radius: 4px\r\n        height: 38px\r\n        width: 100px\r\n        font-size: 18px\r\n        color: #FFF\r\n        cursor: pointer\r\n        outline: none\r\n        border: none\r\n  .empty-cart\r\n    margin-top: 50px\r\n    text-align: center\r\n    color: #7BBE2B\r\n    cursor: pointer\r\n    .icon-gouwuche\r\n      margin-right: 5px\r\n      font-size: 30px\r\n  .recommend-header\r\n    width: 1200px\r\n    margin: 100px auto 20px\r\n    color: #666\r\n  .recommend-wrapper\r\n    width: 1200px\r\n    margin: 0 auto\r\n    display: flex\r\n    flex-wrap: wrap\r\n    margin-bottom: 30px\r\n    .recommend-commodity\r\n      position: relative\r\n      padding: 0 1rem\r\n      width: 180px\r\n      overflow: hidden\r\n      cursor: pointer\r\n      text-align: center\r\n      .icon-yushou\r\n        top: -5px\r\n        right: 5px\r\n      img\r\n        width: 80%\r\n      .commodity-name\r\n        margin-top: 5px\r\n        font-size: 14px\r\n        color: #666\r\n        overflow: hidden\r\n        text-overflow: ellipsis\r\n        white-space: nowrap\r\n      .commodity-price\r\n        margin-top: 5px\r\n        font-size: 14px\r\n        font-weight: 700\r\n        color: #ff4e00\r\n      .add-cart\r\n        position: absolute\r\n        bottom: -50px\r\n        width: 180px\r\n        height: 50px\r\n        line-height: 50px\r\n        font-weight: 700\r\n        text-align: center\r\n        color: #333\r\n        background: #ffc000\r\n        cursor: pointer\r\n        transition: bottom 0.3s\r\n        -moz-transition: bottom 0.3s /* Firefox 4 */\r\n        -webkit-transition: bottom 0.3s /* Safari 和 Chrome */\r\n        -o-transition: bottom 0.3s /* Opera */\r\n      &:hover\r\n        .add-cart\r\n          bottom: 0\r\n          transition: bottom 0.3s\r\n          -moz-transition: bottom 0.3s /* Firefox 4 */\r\n          -webkit-transition: bottom 0.3s /* Safari 和 Chrome */\r\n          -o-transition: bottom 0.3s /* Opera */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/products/Cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cart\"}},[_c('h1',[_vm._v(\"购物车\")]),_vm._v(\" \"),(_vm.cartList.length > 0)?_c('ul',{staticClass:\"cart-list\"},[_c('li',{staticClass:\"commodity-title\"},[_c('span',{staticClass:\"select\"},[_c('el-checkbox',{attrs:{\"label\":_vm.cartList},on:{\"change\":_vm.selectAll},model:{value:(_vm.isSelectAll),callback:function ($$v) {_vm.isSelectAll=$$v},expression:\"isSelectAll\"}},[_vm._v(\" \")]),_vm._v(\"  全选\\n      \")],1),_vm._v(\" \"),_c('span',{staticClass:\"commodity-image\"}),_vm._v(\" \"),_c('span',{staticClass:\"commodity-name\"},[_vm._v(\"商品信息\")]),_vm._v(\" \"),_c('span',{staticClass:\"commodity-price\"},[_vm._v(\"单价\")]),_vm._v(\" \"),_c('span',{staticClass:\"commodity-num\"},[_vm._v(\"数量\")]),_vm._v(\" \"),_c('span',{staticClass:\"total-price\"},[_vm._v(\"金额\")]),_vm._v(\" \"),_c('span',{staticClass:\"operation\"},[_vm._v(\"操作\")])]),_vm._v(\" \"),_vm._l((_vm.cartList),function(item,index){return _c('li',{key:index,staticClass:\"commodity-wrapper\"},[_c('span',{staticClass:\"select\"},[_c('el-checkbox',{attrs:{\"label\":item,\"disabled\":(item.commodityStatus === 3 && item.commodityStock > 0) ? false : true},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}},[_vm._v(\"\\n           \\n        \")])],1),_vm._v(\" \"),_c('img',{attrs:{\"src\":item.commodityPicture + _vm.imageSmallWidth},on:{\"click\":function($event){_vm.$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })}}}),_vm._v(\" \"),_c('span',{staticClass:\"commodity-name\",on:{\"click\":function($event){_vm.$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })}}},[(item.presell)?_c('span',[_vm._v(\"【预售】\")]):_vm._e(),_vm._v(\"\\n        \"+_vm._s(item.commodityName)+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"commodity-price\"},[_vm._v(\"¥ \"+_vm._s(item.unitPrice.toFixed(2)))]),_vm._v(\" \"),(item.commodityStatus === 3 && item.commodityStock > 0)?_c('span',{staticClass:\"commodity-num\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"数量：\")]),_vm._v(\" \"),(item.num > 1 && item.num <= item.commodityStock)?_c('button',{staticClass:\"reduce-button\",on:{\"click\":function($event){_vm.reduce(item)}}},[_vm._v(\"-\")]):(item.num === 1)?_c('button',{staticClass:\"reduce-button disabled\"},[_vm._v(\"-\")]):_c('button',{staticClass:\"reduce-button\",on:{\"click\":function($event){_vm.notice(item)}}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim.lazy\",value:(item.num),expression:\"item.num\",modifiers:{\"trim\":true,\"lazy\":true}}],staticClass:\"number\",attrs:{\"type\":\"text\"},domProps:{\"value\":(item.num)},on:{\"change\":[function($event){_vm.$set(item, \"num\", $event.target.value.trim())},function($event){_vm.setProductNum(item)}],\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),(item.num < 200 && item.num < item.commodityStock)?_c('button',{staticClass:\"add-button\",on:{\"click\":function($event){_vm.add(item)}}},[_vm._v(\"+\")]):_c('button',{staticClass:\"add-button\",on:{\"click\":function($event){_vm.notice(item)}}},[_vm._v(\"+\")])]):_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"200px\"}},[(item.commodityStatus !== 3)?_c('span',[_vm._v(\"\\n          已下架\\n          \"),_c('span',{staticStyle:{\"text-decoration\":\"line-through\"}},[_vm._v(\"加入购物车\"+_vm._s(item.num)+\"件\")])]):(item.commodityStock === 0)?_c('span',[_vm._v(\"\\n          已售罄\\n          \"),_c('span',{staticStyle:{\"text-decoration\":\"line-through\"}},[_vm._v(\"加入购物车\"+_vm._s(item.num)+\"件\")])]):_vm._e()]),_vm._v(\" \"),_c('span',{staticClass:\"total-price\"},[_vm._v(\"¥ \"+_vm._s((item.unitPrice * item.num).toFixed(2)))]),_vm._v(\" \"),_c('span',{staticClass:\"operation\",on:{\"click\":function($event){_vm.remove(item)}}},[_vm._v(\"删除\")])])}),_vm._v(\" \"),(_vm.giftInfo)?_vm._l((_vm.giftList),function(item,index){return _c('li',{key:item.commodityCode,staticClass:\"commodity-wrapper\"},[_c('span',{staticClass:\"select\"},[_c('el-checkbox',{attrs:{\"checked\":true,\"label\":item,\"disabled\":\"\"}},[_vm._v(\"\\n             \\n          \")])],1),_vm._v(\" \"),_c('img',{attrs:{\"src\":item.commodityPicture},on:{\"click\":function($event){_vm.$router.push({ name: 'Detail', params: {commodityCode: item.commodityCode} })}}}),_vm._v(\" \"),_c('span',{staticClass:\"commodity-name\",on:{\"click\":function($event){_vm.$router.push({ name: 'Detail', params: { commodityCode: item.commodityCode }})}}},[_c('span',[_vm._v(\"【赠品】\")]),_vm._v(\"\\n          \"+_vm._s(item.commodityName)+\"\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"commodity-price\"},[_vm._v(\"¥ \"+_vm._s(item.unitPrice.toFixed(2)))]),_vm._v(\" \"),_c('span',{staticClass:\"commodity-num\",staticStyle:{\"display\":\"inline-block\",\"width\":\"200px\",\"font-size\":\"14px\"}},[_vm._v(\"\\n          共 \"+_vm._s(item.num)+\" 件\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"total-price\"},[_vm._v(\"¥ \"+_vm._s((item.unitPrice * item.num).toFixed(2)))])])}):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"commodity-footer\"},[_c('div',{staticClass:\"cart-opetation\"},[_c('span',{staticClass:\"select\"},[_c('el-checkbox',{attrs:{\"label\":_vm.cartList},on:{\"change\":_vm.selectAll},model:{value:(_vm.isSelectAll),callback:function ($$v) {_vm.isSelectAll=$$v},expression:\"isSelectAll\"}},[_vm._v(\" \")]),_vm._v(\"  全选\\n        \")],1),_vm._v(\" \"),_c('span',{staticClass:\"remove-selected\",on:{\"click\":_vm.removeSelected}},[_vm._v(\"删除选择商品\")]),_vm._v(\" \"),_c('span',{staticClass:\"remove-undercarriage\"},[_c('span',{on:{\"click\":_vm.removeUndercarriage}},[_vm._v(\"清除下架商品\")])])]),_vm._v(\" \"),_c('span',{staticClass:\"total-price\"},[_c('span',[_vm._v(\"\\n          已选\\n          \"),_c('span',{staticClass:\"count-number\"},[_vm._v(_vm._s(_vm.selectedList.length))]),_vm._v(\"\\n          种商品\\n        \")]),_vm._v(\" \"),(_vm.giftInfo)?_c('span',[_vm._v(\"\\n          满减：\\n          \"),_c('span',[_vm._v(\"¥ \"+_vm._s((_vm.giftInfo ? _vm.giftInfo.fulCutFee : 0).toFixed(2)))])]):_vm._e(),_vm._v(\" \"),(_vm.giftInfo)?_c('span',[_vm._v(\"\\n          买赠优惠：\\n          \"),_c('span',[_vm._v(\"¥ \"+_vm._s(_vm.countGiftPrice.toFixed(2)))])]):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(\"\\n          订单总金额：\\n          \"),_c('span',{staticClass:\"count-price\"},[_vm._v(\"¥ \"+_vm._s(_vm.countPrice.toFixed(2)))])]),_vm._v(\" \"),(_vm.giftInfo)?_c('span',[_vm._v(\"\\n          实付金额：\\n          \"),_c('span',{staticClass:\"actual-price\"},[_vm._v(\"¥ \"+_vm._s((_vm.countPrice - (_vm.giftInfo ? _vm.giftInfo.fulCutFee : 0)).toFixed(2)))])]):_vm._e(),_vm._v(\" \"),_c('span',[_c('button',{staticClass:\"submit-button\",on:{\"click\":_vm.toPay}},[_vm._v(\"去结算\")])])])])],2):_c('div',{staticClass:\"empty-cart\",on:{\"click\":function($event){_vm.$router.push({ name: 'Index' })}}},[_c('i',{staticClass:\"iconfont icon-gouwuche\"}),_vm._v(\" \"),_c('span',[_vm._v(\"购物车空空的，去首页逛逛吧 >>\")])]),_vm._v(\" \"),_c('h1',{staticClass:\"recommend-header\"},[_vm._v(\"推荐商品\")]),_vm._v(\" \"),(_vm.recommendCommodityList.length > 0)?_c('div',{staticClass:\"recommend-wrapper\"},_vm._l((_vm.recommendCommodityList),function(item,index){return (index < 5)?_c('div',{key:index,staticClass:\"recommend-commodity\",staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){_vm.getProductDetail(item)}}},[(item.presell)?[_c('i',{staticClass:\"iconfont icon-yushou\"}),_vm._v(\" \"),_c('div',{staticClass:\"trangle\"})]:_vm._e(),_vm._v(\" \"),_c('img',{attrs:{\"src\":item.imageUrl}}),_vm._v(\" \"),_c('div',{staticClass:\"commodity-name\"},[_vm._v(_vm._s(item.commodityName))]),_vm._v(\" \"),_c('div',{staticClass:\"commodity-price\"},[_vm._v(\"¥ \"+_vm._s(item.commoditySalesPrice.toFixed(2)))]),_vm._v(\" \"),_c('div',{staticClass:\"add-cart\",on:{\"click\":function($event){$event.stopPropagation();_vm.addCart($event, item)}}},[_vm._v(\"加入购物车\")])],2):_vm._e()})):_vm._e(),_vm._v(\" \"),_c('Flyball',{ref:\"flyball\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-30f68f76\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/views/products/Cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30f68f76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./Cart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30f68f76\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./Cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/products/Cart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}